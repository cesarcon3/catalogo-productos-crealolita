---
import Layout from '../layouts/Layout.astro';
import HomePage from '../components/HomePage/HomePage.astro';
import { loadAllProducts, sortProducts, categorizeProducts } from '../utils/productLoader';

// Cargar y procesar todos los productos
const allProducts = await loadAllProducts();
const sortedProducts = sortProducts(allProducts);
const { destacados, noDestacados } = categorizeProducts(sortedProducts);
---

<Layout title="CatÃ¡logo de Productos">
  <HomePage 
    destacados={destacados}
    noDestacados={noDestacados}
  />
</Layout>